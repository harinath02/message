<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For My Favorite Gadhee</title>
    <style>
        :root {
            --pink: #ffb7c5;
            --deep-glow: #ff2d75;
            --glass: rgba(255, 255, 255, 0.1);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; touch-action: none; }

        body, html {
            height: 100%; width: 100%;
            overflow: hidden;
            font-family: 'Times New Roman', serif;
            background: #05050a;
            color: white;
        }

        #canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }

        .ui-layer {
            position: relative;
            z-index: 10;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            padding: 40px 20px;
            pointer-events: none;
        }

        h1 {
            font-size: 2.8rem;
            color: var(--pink);
            text-shadow: 0 0 20px var(--deep-glow);
            font-weight: 300;
            letter-spacing: 5px;
            animation: float 3s ease-in-out infinite;
        }

        .care-text {
            text-align: center;
            font-size: 1.1rem;
            font-style: italic;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.8;
            max-width: 85%;
            text-shadow: 0 2px 10px rgba(0,0,0,1);
        }

        /* Interactive Whisper Box (No login needed) */
        .whisper-container {
            pointer-events: auto;
            background: var(--glass);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 10px;
            border: 1px solid rgba(255,255,255,0.2);
            width: 80%;
            display: flex;
            gap: 10px;
        }

        .whisper-input {
            background: transparent;
            border: none;
            color: white;
            flex: 1;
            outline: none;
            padding-left: 10px;
        }

        /* Player Styling */
        .controls {
            pointer-events: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .vinyl-ring {
            width: 120px; height: 120px;
            border-radius: 50%;
            background: radial-gradient(circle, #222 0%, #000 70%);
            border: 2px solid #333;
            box-shadow: 0 0 25px var(--deep-glow);
            display: flex; justify-content: center; align-items: center;
            animation: spin 6s linear infinite;
            animation-play-state: paused;
        }
        .vinyl-ring.active { animation-play-state: running; }

        .btn {
            background: transparent;
            color: white;
            border: 1px solid var(--pink);
            padding: 8px 30px;
            border-radius: 30px;
            cursor: pointer;
            letter-spacing: 2px;
            transition: 0.3s;
        }
        .btn:active { background: var(--pink); color: black; }

        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        #yt-player { position: absolute; visibility: hidden; }

        /* Care Bubble Style */
        .bubble {
            position: absolute;
            background: rgba(255, 183, 197, 0.2);
            border: 1px solid var(--pink);
            border-radius: 20px;
            padding: 5px 15px;
            font-size: 0.8rem;
            color: white;
            white-space: nowrap;
            pointer-events: auto;
            animation: drift var(--d) linear infinite;
            z-index: 5;
        }

        @keyframes drift {
            from { transform: translateY(110vh) translateX(0); }
            to { transform: translateY(-20vh) translateX(20px); }
        }
    </style>
</head>
<body>

<canvas id="canvas"></canvas>
<div id="yt-player"></div>

<div class="ui-layer">
    <h1>Kaisi ho?</h1>

    <div class="care-text">
        I really miss you. Every breath thinks about you.
        Your voice echoes in my heart...
        <br><br>
        <i>I care about you more than you know.</i>
    </div>

    <div class="whisper-container">
        <input type="text" id="wish" class="whisper-input" placeholder="Whisper something to me...">
        <button class="btn" style="padding: 5px 15px;" onclick="sendWhisper()">Send</button>
    </div>

    <div class="controls">
        <div class="vinyl-ring" id="vinyl">
            <div style="width: 30%; height: 30%; background: var(--deep-glow); border-radius: 50%;"></div>
        </div>
        <button class="btn" id="playBtn" onclick="togglePlay()">Start</button>
    </div>
</div>

<script>
    // 1. YouTube Audio - Updated Song
    let player;
    let isPlaying = false;
    const tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    document.head.appendChild(tag);

    function onYouTubeIframeAPIReady() {
        player = new YT.Player('yt-player', {
            height: '1', width: '1',
            videoId: 'P4ofSL-n3s0',
            playerVars: { 'autoplay': 0, 'controls': 0, 'loop': 1, 'playlist': 'P4ofSL-n3s0' }
        });
    }

    function togglePlay() {
        const btn = document.getElementById('playBtn');
        const vinyl = document.getElementById('vinyl');
        if (!isPlaying) {
            player.playVideo();
            btn.innerText = "Pause";
            vinyl.classList.add('active');
        } else {
            player.pauseVideo();
            btn.innerText = "Start";
            vinyl.classList.remove('active');
        }
        isPlaying = !isPlaying;
    }

    // 2. The Care Bubbles (Your Custom Texts)
    const careMsgs = [
        "thik ho na?", "khana khaya tha?", "soyi thi?", 
        "khush ho?", "aaram krti ho na", "koi kaam nhi Krna", 
        "cold se bachti ho na", "agar ye nhi krti to gadhi ho tum!"
    ];

    function createBubbles() {
        careMsgs.forEach((msg, i) => {
            const b = document.createElement('div');
            b.className = 'bubble';
            b.innerText = msg;
            b.style.left = Math.random() * 80 + 5 + '%';
            b.style.setProperty('--d', (Math.random() * 10 + 15) + 's');
            b.style.animationDelay = (i * 2) + 's';
            b.onclick = () => {
                b.style.transform = 'scale(2)';
                b.style.opacity = '0';
                if(msg.includes('gadhi')) document.body.style.animation = 'shake 0.5s';
                setTimeout(() => { b.style.opacity = '1'; document.body.style.animation = ''; }, 2000);
            };
            document.body.appendChild(b);
        });
    }
    createBubbles();

    // 3. Whisper Reaction (Local storage "chat" effect)
    function sendWhisper() {
        const input = document.getElementById('wish');
        if(!input.value) return;
        const msg = input.value;
        input.value = '';
        
        // Show as a glowing floating text
        const glow = document.createElement('div');
        glow.style.position = 'fixed';
        glow.style.left = '50%';
        glow.style.top = '50%';
        glow.style.transform = 'translate(-50%, -50%)';
        glow.style.color = '#fff';
        glow.style.fontSize = '2rem';
        glow.style.textShadow = '0 0 20px var(--pink)';
        glow.style.zIndex = '100';
        glow.innerText = "❤️ " + msg;
        document.body.appendChild(glow);
        
        glow.animate([
            { transform: 'translate(-50%, -50%) scale(0.5)', opacity: 0 },
            { transform: 'translate(-50%, -80%) scale(1.2)', opacity: 1, offset: 0.5 },
            { transform: 'translate(-50%, -150%) scale(1)', opacity: 0 }
        ], { duration: 3000, easing: 'ease-out' });
        
        setTimeout(() => glow.remove(), 3000);
    }

    // 4. Background Nebula/Stars Effect
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    let stars = [];

    function init() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        stars = [];
        for(let i=0; i<100; i++) stars.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            z: Math.random() * canvas.width,
            o: Math.random()
        });
    }

    function draw() {
        ctx.fillStyle = '#05050a';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
        stars.forEach(s => {
            s.z -= 2;
            if(s.z <= 0) s.z = canvas.width;
            let sx = (s.x - canvas.width/2) * (canvas.width/s.z) + canvas.width/2;
            let sy = (s.y - canvas.height/2) * (canvas.width/s.z) + canvas.height/2;
            let size = (1 - s.z/canvas.width) * 3;
            ctx.fillStyle = `rgba(255, 183, 197, ${1 - s.z/canvas.width})`;
            ctx.beginPath();
            ctx.arc(sx, sy, size, 0, Math.PI*2);
            ctx.fill();
        });
        requestAnimationFrame(draw);
    }

    window.addEventListener('resize', init);
    init();
    draw();
</script>

<style>
    @keyframes shake {
        0% { transform: translateX(0); }
        25% { transform: translateX(10px); }
        50% { transform: translateX(-10px); }
        100% { transform: translateX(0); }
    }
</style>
</body>
</html>
